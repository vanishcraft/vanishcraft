<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VanishCraft - Sklep Minecraft</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    <style>
        :root {
            --mc-font: 'VT323', monospace;
            --pixel-font: 'Press Start 2P', cursive;
        }

        body {
            background-color: #0d0d0d;
            color: #f3f4f6;
            font-family: var(--mc-font);
            margin: 0;
            overflow-x: hidden;
        }

        .font-pixel { font-family: var(--pixel-font); }
        .font-minecraft { font-family: var(--mc-font); }

        .mc-shadow { text-shadow: 2px 2px 0px #000; }

        .minecraft-btn {
            image-rendering: pixelated;
            background-color: #555;
            border-top: 4px solid #888;
            border-left: 4px solid #888;
            border-bottom: 4px solid #222;
            border-right: 4px solid #222;
            cursor: pointer;
            transition: all 0.1s;
        }

        .minecraft-btn:hover { background-color: #666; }
        .minecraft-btn:active {
            border-top: 4px solid #222;
            border-left: 4px solid #222;
            border-bottom: 4px solid #888;
            border-right: 4px solid #888;
            transform: translateY(2px);
        }

        .btn-green {
            background-color: #388e3c;
            border-top-color: #4caf50; border-left-color: #4caf50;
            border-bottom-color: #1b5e20; border-right-color: #1b5e20;
        }

        .btn-blue {
            background-color: #1976d2;
            border-top-color: #42a5f5; border-left-color: #42a5f5;
            border-bottom-color: #0d47a1; border-right-color: #0d47a1;
        }

        .bg-dirt {
            background-color: #251d12;
            background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h20v20H0V0zm20 20h20v20H20V20z' fill='%231a140c' fill-opacity='0.5'/%3E%3C/svg%3E");
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .animate-float { animation: floating 5s ease-in-out infinite; }

        .hidden-section { display: none; }
        
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-left-color: #eab308;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>

    <!-- Nawigacja -->
    <nav class="fixed top-0 w-full z-50 bg-black/90 border-b-4 border-gray-800 backdrop-blur-sm h-16 flex items-center">
        <div class="max-w-7xl mx-auto px-4 w-full flex justify-between items-center">
            <div class="flex items-center gap-3 cursor-pointer" onclick="navigateTo('shop')">
                <div class="w-8 h-8 bg-yellow-500 border-2 border-yellow-300 flex items-center justify-center">
                    <span class="text-black font-bold text-xl">$</span>
                </div>
                <span class="font-pixel text-[10px] md:text-xs tracking-tighter mc-shadow">
                    Vanish<span class="text-yellow-500">Craft</span>
                </span>
            </div>
            
            <div class="flex gap-4 md:gap-8 font-minecraft text-xl md:text-2xl">
                <button onclick="navigateTo('shop')" class="hover:text-yellow-500 transition-colors">SKLEP</button>
                <button onclick="navigateTo('discord')" class="hover:text-blue-500 transition-colors">DISCORD</button>
                <button onclick="navigateTo('rules')" class="hover:text-red-500 transition-colors">REGULAMIN</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative pt-16 min-h-[60vh] flex items-center justify-center bg-dirt overflow-hidden text-center">
        <div class="absolute inset-0 bg-gradient-to-b from-transparent to-[#0d0d0d]"></div>
        <div class="relative z-10 max-w-4xl px-4 py-12">
            <div class="inline-block p-1 border-2 border-yellow-500/30 mb-4 bg-black/40">
                <span class="font-pixel text-[8px] uppercase text-yellow-500 tracking-[0.2em] px-2">Serwer Premium</span>
            </div>
            <h1 id="hero-title" class="font-pixel text-2xl md:text-5xl mb-6 mc-shadow uppercase leading-tight">
                Doładuj <span class="text-yellow-500">Portfel</span>
            </h1>
            <p id="hero-desc" class="font-minecraft text-xl md:text-3xl text-gray-400 mb-10 max-w-xl mx-auto">
                Wspieraj serwer i zdobądź walutę. Administracja doda środki w ciągu 30 minut od zakupu!
            </p>
            
            <div id="ip-container" class="minecraft-btn group flex items-center gap-4 px-6 py-4 mx-auto w-fit" onclick="copyIP()">
                <div class="text-left">
                    <p class="text-[8px] font-pixel text-gray-400 uppercase leading-none mb-1">IP Serwera</p>
                    <p class="text-xl md:text-2xl font-bold text-green-400 uppercase">VanishCraft.fhsrv.pl</p>
                </div>
                <div class="bg-[#444] p-2 border-2 border-[#666]" id="copy-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                </div>
            </div>
        </div>
    </header>

    <!-- Content -->
    <main class="max-w-7xl mx-auto px-4 py-12">
        
        <!-- Sekcja Sklep -->
        <section id="shop-section">
            <div class="text-center mb-12">
                <h2 class="font-pixel text-lg md:text-xl mc-shadow uppercase flex items-center justify-center gap-4">
                    <span class="h-1 w-8 bg-yellow-600 hidden md:block"></span> Wybierz Pakiet <span class="h-1 w-8 bg-yellow-600 hidden md:block"></span>
                </h2>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6" id="products-grid">
                <!-- Produkty będą wstawione przez JS -->
            </div>

            <!-- Support Grid -->
            <div class="mt-24 grid md:grid-cols-3 gap-8">
                <div class="bg-[#151515] border-2 border-white/5 p-8 flex flex-col items-center text-center">
                    <div class="text-yellow-500 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                    </div>
                    <h4 class="font-pixel text-[10px] mb-4 text-yellow-500">DOSTAWA 30 MIN</h4>
                    <p class="text-xl text-gray-400">Środki są dodawane ręcznie przez administratorów w ciągu pół godziny.</p>
                </div>
                <div class="bg-[#151515] border-2 border-white/5 p-8 flex flex-col items-center text-center">
                    <div class="text-blue-500 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                    </div>
                    <h4 class="font-pixel text-[10px] mb-4 text-blue-500">BEZPIECZEŃSTWO</h4>
                    <p class="text-xl text-gray-400">Każda transakcja jest logowana i zabezpieczona przed błędami.</p>
                </div>
                <div class="bg-[#151515] border-2 border-white/5 p-8 flex flex-col items-center text-center">
                    <div class="text-green-500 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m8 3 4 8 5-5 5 15H2L8 3z"/></svg>
                    </div>
                    <h4 class="font-pixel text-[10px] mb-4 text-green-500">WSPARCIE ROZWOJU</h4>
                    <p class="text-xl text-gray-400">Zakupy finansują nowe maszyny i autorskie pluginy dla serwera.</p>
                </div>
            </div>
        </section>

        <!-- Sekcja Discord -->
        <section id="discord-section" class="hidden-section">
            <div class="max-w-3xl mx-auto bg-[#1a1c2e] border-4 border-blue-600 p-8 md:p-12 text-center minecraft-btn cursor-default">
                <div class="text-blue-400 mb-6 flex justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="currentColor" viewBox="0 0 16 16"><path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.05.05 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1 .015.019.05.05 0 0 1-.02.066 12.935 12.935 0 0 1-1.248.595.05.05 0 0 0-.027.07c.24.465.513.908.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.724 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.724 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"/></svg>
                </div>
                <h2 class="font-pixel text-xl md:text-2xl mb-6 mc-shadow">DOŁĄCZ DO SPOŁECZNOŚCI</h2>
                <p class="text-2xl text-gray-300 mb-8 font-minecraft leading-relaxed">
                    Masz pytania? Chcesz otworzyć zgłoszenie? A może po prostu chcesz pogadać z ekipą? Nasz Discord to miejsce dla Ciebie!
                </p>
                <button class="minecraft-btn btn-blue px-10 py-5 font-pixel text-xs tracking-widest hover:scale-105 transition-transform">
                    WEJDŹ NA SERWER
                </button>
            </div>
        </section>

        <!-- Sekcja Regulamin -->
        <section id="rules-section" class="hidden-section">
            <div class="max-w-4xl mx-auto bg-[#151515] border-2 border-gray-800 p-8 font-minecraft text-xl md:text-2xl text-gray-400">
                <h2 class="font-pixel text-lg text-white mb-8 border-b-2 border-gray-800 pb-2 uppercase tracking-tighter">Zasady Sklepu</h2>
                <div class="space-y-6">
                    <p><span class="text-yellow-500 font-bold">01.</span> Zakupione środki zostaną przypisane do Twojego konta gracza przez administratora w czasie nieprzekraczającym 30 minut.</p>
                    <p><span class="text-yellow-500 font-bold">02.</span> Upewnij się, że podczas zakupu podajesz poprawny nick z gry Minecraft.</p>
                    <p><span class="text-yellow-500 font-bold">03.</span> Płatności są ostateczne. Po doładowaniu konta w grze nie ma możliwości zwrotu pieniędzy.</p>
                    <p><span class="text-yellow-500 font-bold">04.</span> W przypadku braku doładowania po 60 minutach, należy niezwłocznie skontaktować się z administracją na serwerze Discord.</p>
                    <p><span class="text-yellow-500 font-bold">05.</span> Sklep nie jest częścią firmy Mojang AB i nie jest przez nią wspierany.</p>
                </div>
            </div>
        </section>

    </main>

    <!-- Stopka -->
    <footer class="bg-black border-t-4 border-gray-900 py-16 mt-20 text-center">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-center gap-8 mb-8 font-pixel text-[8px] uppercase">
                <button onclick="navigateTo('shop')" class="hover:text-yellow-500">Sklep</button>
                <button onclick="navigateTo('discord')" class="hover:text-blue-500">Discord</button>
                <button onclick="navigateTo('rules')" class="hover:text-red-500">Regulamin</button>
            </div>
            <p class="font-pixel text-[8px] text-gray-700 mb-2 uppercase tracking-widest">&copy; 2024 CraftPay Store. Wszelkie prawa zastrzeżone.</p>
            <p class="text-xl text-gray-800">Nie jesteśmy powiązani z Mojang AB.</p>
        </div>
    </footer>

    <script>
        const apiKey = ""; // Klucz API dostarczany przez środowisko
        const productsGrid = document.getElementById('products-grid');
        const sections = {
            shop: document.getElementById('shop-section'),
            discord: document.getElementById('discord-section'),
            rules: document.getElementById('rules-section')
        };
        const heroTitle = document.getElementById('hero-title');
        const heroDesc = document.getElementById('hero-desc');
        const ipContainer = document.getElementById('ip-container');

        const products = [
            { id: 1, amount: '5 PLN', prompt: "A single glowing gold fantasy coin, floating, 3d render, minecraft style, black background", color: 'border-gray-500' },
            { id: 2, amount: '10 PLN', prompt: "A small stack of two gold fantasy coins, glowing, 3d render, minecraft style, black background", color: 'border-blue-500' },
            { id: 3, amount: '25 PLN', prompt: "A leather pouch bag full of golden coins, 3d render, minecraft aesthetic, high quality, black background", color: 'border-green-500' },
            { id: 4, amount: '50 PLN', prompt: "A wooden minecraft treasure chest filled with gold coins, 3d render, cinematic lighting, black background", color: 'border-purple-600' },
            { id: 5, amount: '100 PLN', prompt: "A massive ornate golden chest overflowing with mountains of gold and blue gems, 3d render, epic lighting, black background", color: 'border-yellow-500' }
        ];

        // Funkcja do nawigacji
        function navigateTo(target) {
            Object.keys(sections).forEach(key => {
                sections[key].classList.add('hidden-section');
            });
            sections[target].classList.remove('hidden-section');

            // Zmiana Hero
            if (target === 'shop') {
                heroTitle.innerHTML = 'Doładuj <span class="text-yellow-500">Portfel</span>';
                heroDesc.innerText = 'Wspieraj serwer i zdobądź walutę. Administracja doda środki w ciągu 30 minut od zakupu!';
                ipContainer.classList.remove('hidden');
            } else if (target === 'discord') {
                heroTitle.innerHTML = 'Nasza <span class="text-blue-500">Społeczność</span>';
                heroDesc.innerText = 'Bądź na bieżąco z życiem serwera i bierz udział w eventach.';
                ipContainer.classList.add('hidden');
            } else if (target === 'rules') {
                heroTitle.innerHTML = '<span class="text-red-500">Regulamin</span> Sklepu';
                heroDesc.innerText = 'Przeczytaj uważnie zasady przed dokonaniem zakupu.';
                ipContainer.classList.add('hidden');
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Funkcja kopiowania IP
        function copyIP() {
            const ip = "play.twojserwer.pl";
            const el = document.createElement('textarea');
            el.value = ip;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);

            const icon = document.getElementById('copy-icon');
            const originalHTML = icon.innerHTML;
            icon.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="#4ade80" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>';
            setTimeout(() => icon.innerHTML = originalHTML, 2000);
        }

        // Inicjalizacja produktów i generowanie obrazów
        async function init() {
            productsGrid.innerHTML = '';
            
            for (const prod of products) {
                const card = document.createElement('div');
                card.className = `minecraft-btn bg-[#181818] border-4 p-6 flex flex-col items-center group transition-transform hover:-translate-y-2 ${prod.color}`;
                card.innerHTML = `
                    <div class="relative mb-6 w-full aspect-square flex items-center justify-center bg-black/40 border-2 border-white/5 overflow-hidden" id="img-container-${prod.id}">
                        <div class="loading-spinner"></div>
                    </div>
                    <div class="w-full text-center mt-auto">
                        <h3 class="font-pixel text-lg mb-6 tracking-tighter">${prod.amount}</h3>
                        <button onclick="alert('Przejście do płatności: ${prod.amount}')" class="minecraft-btn btn-green w-full py-4 font-pixel text-[8px] flex items-center justify-center gap-2">
                            KUP TERAZ
                        </button>
                    </div>
                `;
                productsGrid.appendChild(card);

                // Generowanie obrazu (Imagen 4.0)
                fetchImage(prod);
            }
        }

        async function fetchImage(prod) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        instances: [{ prompt: prod.prompt }],
                        parameters: { sampleCount: 1 }
                    })
                });
                
                const result = await response.json();
                const container = document.getElementById(`img-container-${prod.id}`);
                
                if (result.predictions && result.predictions[0]) {
                    const base64 = result.predictions[0].bytesBase64Encoded;
                    container.innerHTML = `<img src="data:image/png;base64,${base64}" class="w-full h-full object-contain animate-float scale-110">`;
                } else {
                    container.innerHTML = '<div class="text-yellow-600 font-pixel text-[8px]">$$$</div>';
                }
            } catch (e) {
                console.error(e);
                document.getElementById(`img-container-${prod.id}`).innerHTML = 'ERR';
            }
        }

        window.onload = init;
    </script>
</body>
</html>
